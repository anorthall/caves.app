{% load widget_tweaks %}

<!-- Hidden fields -->
{% for hidden_field in form.hidden_fields %}
  {{ hidden_field }}
{% endfor %}

<!-- Account details title -->
<div class="bg-light border rounded fs-5 p-2 mb-3">
  Account details
</div>

<!-- Email -->
<div class="row mb-3 px-2 g-3">
  <div class="col">
    <label class="form-label" for="{{ form.email.auto_id }}">
      Email
    </label>
    {% if form.is_bound %}
      {% if form.email.errors %}
        {% render_field form.email class="form-control is-invalid" %}
        {% for e in form.email.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.email class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.email class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.email.help_text }}
    </div>
  </div>
</div>

<!-- Username -->
<div class="row mb-3 px-2 g-3">
  <div class="col">
    <label class="form-label" for="{{ form.username.auto_id }}">
      Username
    </label>
    {% if form.is_bound %}
      {% if form.username.errors %}
        {% render_field form.username class="form-control is-invalid" %}
        {% for e in form.username.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.username class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.username class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.username.help_text }}
    </div>
  </div>
</div>


<!-- Personal information title -->
<div class="bg-light border rounded fs-5 p-2 mb-3 mt-4">
  Personal information
</div>

<!-- First/last name block -->
<div class="row mb-3 px-2 g-3">
  <div class="col-xl-6">
    <!-- First name -->
    <label class="form-label" for="{{ form.first_name.auto_id }}">
      First name
    </label>
    {% if form.is_bound %}
      {% if form.first_name.errors %}
        {% render_field form.first_name class="form-control is-invalid" %}
        {% for e in form.first_name.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.first_name class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.first_name class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.first_name.help_text }}
    </div>
  </div>

  <div class="col-xl-6">
    <!-- Last name -->
    <label class="form-label" for="{{ form.last_name.auto_id }}">
      Last name
    </label>
    {% if form.is_bound %}
      {% if form.last_name.errors %}
        {% render_field form.last_name class="form-control is-invalid" %}
        {% for e in form.last_name.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.last_name class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.last_name class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.last_name.help_text }}
    </div>
  </div>
</div>

<!-- Location and Country block -->
<div class="row mb-3 px-2 g-3">
  <div class="col-xl-6">
    <!-- Location -->
    <label class="form-label" for="{{ form.location.auto_id }}">
      Location
    </label>
    {% if form.is_bound %}
      {% if form.location.errors %}
        {% render_field form.location class="form-control is-invalid" %}
        {% for e in form.location.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.location class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.location class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.location.help_text }}
    </div>
  </div>

  <div class="col-xl-6">
    <!-- Country -->
    <label class="form-label" for="{{ form.country.auto_id }}">
      Country
    </label>
    {% if form.is_bound %}
      {% if form.last_name.errors %}
        {% render_field form.country class="form-select is-invalid" %}
        {% for e in form.country.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.country class="form-select is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.country class="form-select" %}
    {% endif %}
    <div class="form-text">
      {{ form.country.help_text }}
    </div>
  </div>
</div>

<!-- Caving clubs -->
<div class="row mb-3 px-2 g-3">
  <div class="col">
    <label class="form-label" for="{{ form.clubs.auto_id }}">
      Club(s)
    </label>
    {% if form.is_bound %}
      {% if form.clubs.errors %}
        {% render_field form.clubs class="form-control is-invalid" %}
        {% for e in form.clubs.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.clubs class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.clubs class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.clubs.help_text }}
    </div>
  </div>
</div>

<!-- Biography -->
<div class="row mb-3 px-2 g-3">
  <div class="col">
    <label class="form-label" for="{{ form.bio.auto_id }}">
      Biography
    </label>
    {% if form.is_bound %}
      {% if form.bio.errors %}
        {% render_field form.bio class="form-control is-invalid" %}
        {% for e in form.bio.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.bio class="form-control is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.bio class="form-control" %}
    {% endif %}
    <div class="form-text">
      {{ form.bio.help_text }}
    </div>
  </div>
</div>


<!-- Settings title -->
<div class="bg-light border rounded fs-5 p-2 mb-3 mt-4">
  Settings
</div>

<!-- Privacy/units block -->
<div class="row mb-3 px-2 g-3">
  <div class="col-xl-6">
    <!-- Units -->
    <label class="form-label" for="{{ form.units.auto_id }}">
      Units
    </label>
    {% if form.is_bound %}
      {% if form.units.errors %}
        {% render_field form.units class="form-select is-invalid" %}
        {% for e in form.units.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.units class="form-select is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.units class="form-select" %}
    {% endif %}
    <div class="form-text">
      {{ form.units.help_text }}
    </div>
  </div>

  <div class="col-xl-6">
    <!-- Privacy -->
    <label class="form-label" for="{{ form.privacy.auto_id }}">
      Privacy
    </label>
    {% if form.is_bound %}
      {% if form.privacy.errors %}
        {% render_field form.privacy class="form-select is-invalid" %}
        {% for e in form.privacy.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.privacy class="form-select is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.privacy class="form-select" %}
    {% endif %}
    <div class="form-text">
      {{ form.privacy.help_text }}
    </div>
  </div>
</div>

<!-- Timezone -->
<div class="row mb-3 px-2 g-3">
  <div class="col">
    <label class="form-label" for="{{ form.timezone.auto_id }}">
      Timezone
    </label>
    {% if form.is_bound %}
      {% if form.timezone.errors %}
        {% render_field form.timezone class="form-select is-invalid" %}
        {% for e in form.timezone.errors %}<div class="invalid-feedback">{{ e }}</div>{% endfor %}
      {% else %}
        {% render_field form.timezone class="form-select is-valid" %}
      {% endif %}
    {% else %}
      {% render_field form.timezone class="form-select" %}
    {% endif %}
    <div class="form-text">
      {{ form.timezone.help_text }}
    </div>
  </div>
</div>

<div class="mb-3"></div>
