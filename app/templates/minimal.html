{% load static %}
{% load django_htmx %}
<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{% block description %}caves.app: An online caving trip logger{% endblock %}">

    <title>{% block title %}caves.app{% endblock %}</title>

    <!-- Local styles -->
    <link href="{% static 'css/core.css' %}" rel="stylesheet">

    <!-- Bootstrap v5.2.3 CSS from https://bootswatch.com/ -->
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">

    <!-- Bootstrap Icons v1.10.3 -->
    <link rel="stylesheet" href="{% static "bootstrap-icons/bootstrap-icons.css" %}">

    <!-- HTMX  -->
    <script src="{% static "js/htmx.min.js" %}"></script>
    {% django_htmx_script %}

    {% if google_analytics_id %}
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id={{ google_analytics_id }}"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '{{ google_analytics_id }}');
      </script>
    {% endif %}

    {% block header_scripts %}{% endblock %}
  </head>

  <body class="d-flex flex-column h-100">
    {% block body %}{% endblock body %}

    <!-- Bootstrap v5.2.3 JS -->
    <script src="{% static "js/bootstrap.bundle.min.js" %}"></script>

    <!-- jQuery v3.6.4 JS -->
    <script src="{% static "js/jquery-3.6.4.min.js" %}"></script>

    <!-- Clickable elements with data-href -->
    <script>
      jQuery(document).ready(function($) {
        $('*[data-href]').on('click', function() {
          window.location = $(this).data("href");
        });
      });
    </script>

    {% block footer_scripts %}{% endblock %}
  </body>
</html>
